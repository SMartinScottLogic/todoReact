{"version":3,"sources":["webpack:///webpack/bootstrap c14dbe222cd34a5ed4ae","webpack:///./public/scripts/tutorial21_commentbox.jsx","webpack:///./public/scripts/tutorial21_components.jsx"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap c14dbe222cd34a5ed4ae\n **/","var components = require('./tutorial21_components.jsx')\r\nvar CommentList = components.CommentList\r\nvar CommentForm = components.CommentForm\r\n\r\nvar CommentBox = React.createClass({\r\n    getInitialState: function () {\r\n        return { data: [] }\r\n    },\r\n    loadCommentsFromServer: function () {\r\n        $.ajax({\r\n            url: this.props.url,\r\n            dataType: 'json',\r\n            cache: false,\r\n            success: function (data) {\r\n                this.setState({ data })\r\n            }.bind(this),\r\n            error: function (xhr, status, err) {\r\n                console.error(this.props.url, status, err.toString())\r\n            }.bind(this)\r\n        })\r\n    },\r\n    handleCommentSubmit: function(comment) {\r\n        var comments = this.state.data\r\n        comment.id = Date.now()\r\n        this.setState({data: comments.concat([comment])})\r\n        $.ajax({\r\n            url: this.props.url,\r\n            dataType: 'json',\r\n            type: 'POST',\r\n            data: comment,\r\n            cache: false,\r\n            success: function (data) {\r\n                this.setState({ data })\r\n            }.bind(this),\r\n            error: function (xhr, status, err) {\r\n                this.setState({data: comments})\r\n                console.error(this.props.url, status, err.toString())\r\n            }.bind(this)\r\n        })\r\n    },\r\n    componentDidMount: function () {\r\n        this.loadCommentsFromServer()\r\n        setInterval(this.loadCommentsFromServer, this.props.pollInterval)\r\n    },\r\n    render: function () {\r\n        return (\r\n            <div className=\"commentBox\">\r\n                <h1>Comments</h1>\r\n                <CommentList data={this.state.data}/>\r\n                <CommentForm onCommentSubmit={this.handleCommentSubmit} />\r\n            </div>\r\n        )\r\n    }\r\n})\r\nReactDOM.render(\r\n    <CommentBox url=\"/api/comments\" pollInterval={20000} />,\r\n    document.getElementById('content')\r\n);\n\n\n/** WEBPACK FOOTER **\n ** ./public/scripts/tutorial21_commentbox.jsx\n **/","var CommentList = React.createClass({\r\n    render: function () {\r\n        var commentNodes = this.props.data.map((comment) => {\r\n            return (\r\n                <Comment author={comment.author} key={comment.id}>\r\n                    {comment.text}\r\n                </Comment>\r\n            )\r\n        })\r\n        return (\r\n            <div className=\"commentList\">\r\n                {commentNodes}\r\n            </div>\r\n        )\r\n    }\r\n})\r\n\r\nvar CommentForm = React.createClass({\r\n    getInitialState: function () {\r\n        return { author: '', text: '' };\r\n    },\r\n    handleAuthorChange: function (e) {\r\n        this.setState({ author: e.target.value });\r\n    },\r\n    handleTextChange: function (e) {\r\n        this.setState({ text: e.target.value });\r\n    },\r\n    handleSubmit: function(e) {\r\n        e.preventDefault();\r\n        var author = this.state.author.trim()\r\n        var text = this.state.text.trim()\r\n        if( !author | !text ) return\r\n        this.props.onCommentSubmit({author, text})\r\n        this.setState({author: '', text: ''})\r\n        return false\r\n    },\r\n    render: function () {\r\n        return (\r\n            <form className=\"commentForm\" onSubmit={this.handleSubmit}>\r\n                <input type=\"text\" placeholder=\"Your name\" value={this.state.author} onChange={this.handleAuthorChange} />\r\n                <input type=\"text\" placeholder=\"Say something...\" value={this.state.text} onChange={this.handleTextChange} />\r\n                <input type=\"submit\" value=\"Post\" />\r\n            </form>\r\n        )\r\n    }\r\n})\r\n\r\nvar Comment = React.createClass({\r\n    rawMarkup: function () {\r\n        var rawMarkup = marked(this.props.children.toString(), { sanitize: true })\r\n        return { __html: rawMarkup }\r\n    },\r\n    render: function () {\r\n        return (\r\n            <div className=\"comment\">\r\n                <h2 className=\"commentAuthor\">\r\n                    {this.props.author}\r\n                </h2>\r\n                <span dangerouslySetInnerHTML={this.rawMarkup() } />\r\n            </div>\r\n        )\r\n    }\r\n})\r\nmodule.exports.CommentForm = CommentForm\r\nmodule.exports.CommentList = CommentList\n\n\n/** WEBPACK FOOTER **\n ** ./public/scripts/tutorial21_components.jsx\n **/"],"sourceRoot":""}